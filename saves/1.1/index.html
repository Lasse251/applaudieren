<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style-sheet.css" />
    <title>Applaudieren</title>
  </head>
  <body>
    <nav class="navbar">
      <button class="burger" id="burger">&#9776;</button>

      <div class="nav-links" id="navLinks">
        <a href="#" class="nav-button" onclick="showUI('karte')">Karte</a>
        <a href="#" class="nav-button" onclick="showUI('spieler')">Spieler</a>
        <a href="#" class="nav-button" onclick="showUI('regeln')">Regeln</a>
        <a href="#" class="nav-button" onclick="showUI('hilfe')">Hilfe</a>
      </div>
    </nav>

    <!--Karten-MenÃ¼-->
    <div class="versteckt" id="karte">
      <div class="inhalt">
        <p class="text" id="currentPlayerText">KARTE FÃœR ...</p>
        <div class="card">
          <p class="cardText" id="cardText">Ziehe eine Karte!</p>
        </div>
        <p class="text" id="nextPlayerText">NÃ„CHSTE KARTE FÃœR...</p>
        <div class="buttonRow">
          <button class="button" id="spinButton" onclick="handleCard()">
            KARTE ZIEHEN
          </button>
          <button class="squareButton" onclick="showUI('gluecksrad')">
            <img
              class="icon"
              src="sources/gr.png"
              alt="ðŸŽ¡"
              width="40"
              height="40"
            />
          </button>
        </div>
        <p class="text" id="counter">GEZOGENE KARTEN: 0</p>
      </div>
    </div>
    <!--GlÃ¼cksrad-MenÃ¼-->
    <div class="versteckt" id="gluecksrad">
      <div class="inhalt">
        <p class="text" id="chosenPlayer">WER DARF APPLAUDIEREN? ...</p>
        <div class="card">
          <canvas id="wheel" width="200" height="200"></canvas>
        </div>
        <div class="buttonRow" style="margin-top: 70px">
          <button class="button" onclick="spinWheel()">Drehen</button>
          <button class="squareButton" onclick="showUI('karte')">
            <img
              class="icon"
              src="sources/gr.png"
              alt="ðŸŽ¡"
              width="40"
              height="40"
            />
          </button>
        </div>
        <p class="text" id="counter">GEZOGENE KARTEN: 0</p>
      </div>
    </div>
    <!--Spieler-MenÃ¼-->
    <div class="versteckt" id="spieler">
      <div class="inhalt">
        <div class="spielerMenue">
          <input
            type="text"
            class="input"
            id="spielerInput"
            placeholder="SPIELERNAME"
          />
          <button class="button" onclick="addSpieler()">HINZUFÃœGEN</button>
          <p class="noPlayers" id="noPlayers" style="display: none">
            KEINE SPIELER EINGETRAGEN.
          </p>
          <div
            class="spielerListe"
            style="margin-top: 20px; width: 100%"
            id="spielerListe"
          ></div>
          <button class="button" onclick="clearSpieler()">
            SPIELER LÃ–SCHEN
          </button>
        </div>
      </div>
    </div>
    <!--Regel-MenÃ¼-->
    <div class="versteckt" id="regeln">
      <div class="inhalt">
        <div class="spielerMenue">
          <h2>ALTERNATIVWORT FÃœR TRINKEN</h2>
          <input
            type="text"
            class="input"
            id="wortInput"
            value="applaudieren"
            onchange="changeWord()"
          />
          <h3>EIGENE REGEL ERSTELLEN</h3>
          <input
            type="text"
            class="input"
            id="regelInput"
            placeholder="Eigene Regel"
          />
          <button class="button" onclick="addRegel()">HINZUFÃœGEN</button>
          <p class="noRules" id="noRules" style="display: none">
            KEINE REGELN VORHANDEN
          </p>
          <div class="regelListe" id="regelListe">
            <!-- Standard-Regel -->
            <div class="regelContainer">
              <p class="regelText">
                Das Wort "trinken" und WÃ¶rter mit dem selben Stamm dÃ¼rfen nicht
                gesagt werden. Stattdessen muss das Alternativ Wort verwendet
                werden.
              </p>
              <button
                class="deleteButton"
                onclick="this.parentElement.remove()"
              >
                â€“
              </button>
            </div>
          </div>
          <button class="button" onclick="resetRegeln()">ZURÃœCKSETZEN</button>
          <button class="button" onclick="clearRegeln()">REGELN LÃ–SCHEN</button>
        </div>
      </div>
    </div>
    <!--Hilfe-MenÃ¼-->
    <div class="versteckt" id="hilfe">
      <div class="inhalt">
        <p class="text">Applaudieren by Lasse</p>
        <p class="text">ErklÃ¤rung folgt</p>
        <p class="text"><strong>So funktioniert das Spiel:</strong></p>
        <ul class="text">
          <a style="margin-top: 5px; display: block"
            >1. Tragt im MenÃ¼ â€žSPIELERâ€œ alle Mitspieler ein.</a
          ><br />
          <a style="margin-top: 5px; display: block">
            2. Im MenÃ¼ â€žKARTE ZIEHENâ€œ kÃ¶nnt ihr reihum Karten ziehen â€“ die
            Aufgabe darauf muss erfÃ¼llt werden. </a
          ><br />
          <a style="margin-top: 5px; display: block">
            3. Statt â€žtrinkenâ€œ wird ein alternatives Wort wie â€žapplaudierenâ€œ
            verwendet. Das kÃ¶nnt ihr im MenÃ¼ â€žREGELNâ€œ Ã¤ndern. </a
          ><br />
          <a style="margin-top: 5px; display: block">
            4. Eigene Zusatzregeln kÃ¶nnt ihr im MenÃ¼ â€žREGELNâ€œ ergÃ¤nzen. Es gibt
            eine Karte, die es einem Mitspieler erlaubt eine eigene Regel
            aufzustellen.</a
          ><br />
          <a style="margin-top: 5px; display: block">
            5. Ãœber das â€žGLÃœCKSRADâ€œ wird zufÃ¤llig ein Spieler ausgewÃ¤hlt â€“ falls
            ihr selber nicht nicht entscheiden wollt, wer trinken soll. </a
          ><br />
        </ul>
        <p class="text">Viel SpaÃŸ und spielt verantwortungslos!</p>
      </div>
    </div>

    <script>
      let spieler = [];
      let aktuellerIndex = 0;
      let alternativWort = "applaudieren";
      let kartenCounter = 0;
      const karten = [
        "Die Person links neben dir muss 2x TRINKWORT.",
        "AufzÃ¤hlung! Suche dir ein beliebiges Thema aus, beginne die AufzÃ¤hlung. Danach wird die AufzÃ¤hlung im Uhrzeigersinn fortgesetzt. Der Verlierer muss TRINKWORT. Beispiel: StÃ¤dte mit M -> MÃ¼nchen, Magdeburg,...",
        "Regel! Stell eine Regel auf, welche fÃ¼r die Allgemeinheit gilt. Wird gegen diese verstoÃŸen, muss die Person TRINKWORT. FÃ¼ge sie Ã¼ber den Punkt 'Regeln' hinzu.",
        "Quizmaster! NAME ist der Quizmaster. Sollte jemand auf seine Frage antworten, muss diese Person TRINKWORT.",
        "Packe deinen Koffer! Beginne das Spiel, und der Verlierer muss TRINKWORT.",
        "(Kein) Lappen! Alle, die keinen FÃ¼hrerschein haben, mÃ¼ssen 2x TRINKWORT.",
        "DaumenkÃ¶nig! Lege deinen Daumen innerhalb der nÃ¤chsten 5 Karten unauffÃ¤llig auf den Tisch. Alle Mitspieler mÃ¼ssen dann ebenfalls ihren Daumen auf den Tisch legen. Der langsamste muss TRINKWORT.",
        "ADEL! Alle mÃ¼ssen dich fÃ¼r die nÃ¤chsten 10 Runden siezen. Wer sich nicht daran hÃ¤lt, muss TRINKWORT.",
        "Privat! Zeige die letzten drei Bilder aus deiner Galerie. Weigerst du dich, musst du 3x TRINKWORT.",
        "Urlaub! Du bist fÃ¼r einen Durchgang im Urlaub und musst dich wÃ¤hrenddessen an keine Regeln halten.",
        "Teenies! Alle unter 20 mÃ¼ssen TRINKWORT.",
        "SpielkÃ¶nig! Der Besitzer des Handys/Laptops darf 3x TRINKWORT verteilen.",
        "TRINKWORT! Jeder muss 1x TRINKWORT.",
        "Weihnachten! Verschenke 3x TRINKWORT an deine Mitspieler.",
        "GroÃŸverdiener! Die Person, die am meisten Bargeld bei sich hat, muss 2x TRINKWORT.",
        "GroÃŸe Liebe! Suche dir zwei Personen aus, die fÃ¼r 10 Runden HÃ¤ndchen halten mÃ¼ssen. Weigern sie sich oder schaffen sie es nicht, mÃ¼ssen sie 2x TRINKWORT.",
        "KO-Tropfen! Suche dir ein GetrÃ¤nk eines Mitspielers aus. Von diesem GetrÃ¤nk musst du 2x TRINKWORT. Alkoholfreie GetrÃ¤nke stehen nicht zur Auswahl.",
        "Die Person rechts neben dir muss TRINKWORT.",
        "Schnelles Geld! Die Person, die zuerst ein 1â‚¬-StÃ¼ck auf den Tisch legt, darf 3x TRINKWORT verteilen. Sollte es keiner schaffen, mÃ¼ssen alle TRINKWORT.",
        "Ernst! Die Person, die ab jetzt als Erste lacht, muss TRINKWORT. Die Regel gilt so lange, bis jemand lacht.",
        "Rentner! Die Ã¤lteste Person muss 2x TRINKWORT.",
        "Testo! Alle MÃ¤nner mÃ¼ssen TRINKWORT.",
        "Medusa! Keiner darf dir mehr in die Augen schauen. Die ersten drei, die es dennoch tun, mÃ¼ssen TRINKWORT. Nach dem dritten Mal ist der Fluch gebrochen.",
        "DÃ©jÃ -vu! Die Person(en), die zuletzt TRINKWORT mussten, mÃ¼ssen nochmal TRINKWORT.",
        "Reimmeister! Suche dir ein Wort aus. AnschlieÃŸend wird im Uhrzeigersinn weitergereimt. Zeitlimit: 10 Sekunden. Das Wort muss sich reimen und doppelt genannte WÃ¶rter sind verboten. Der Verlierer muss 2x TRINKWORT.",
        "Zahl! Nach einem Countdown rufen alle eine Zahl zwischen 1 und 5. Alle Mitspieler mit derselben Zahl mÃ¼ssen TRINKWORT.",
        "Blinzelduell! Fordere einen Mitspieler zu einem Blinzelduell heraus. Der Verlierer muss TRINKWORT.",
        "Trink-Bro! Suche zwei Spieler aus, die fÃ¼r die nÃ¤chsten 10 Runden Trink-Bros sind. Immer wenn der eine TRINKWORT, muss der andere auch TRINKWORT.",
        "Schneck! Der Spieler mit dem vollsten Glas muss 2x TRINKWORT.",
        "Putzfee! Bis du das nÃ¤chste Mal dran bist, muss der Tisch aufgerÃ¤umt sein. Ist er es nicht, musst du 2x TRINKWORT.",
        "Klassenclown! ErzÃ¤hle einen Witz oder eine Story. Lacht keiner, musst du TRINKWORT.",
        "Quizmaster! NAME ist der Quizmaster. Sollte jemand auf seine Frage antworten, muss diese Person TRINKWORT.",
        "Goldene Hochzeit! Die Person mit der lÃ¤ngsten Beziehung muss TRINKWORT.",
        "Regel! Stell eine Regel auf, welche fÃ¼r die Allgemeinheit gilt. Wird gegen diese verstoÃŸen, muss die Person TRINKWORT. FÃ¼ge sie Ã¼ber den Punkt 'Regeln' hinzu.",
        "Anonym! Keiner darf mehr deinen Vornamen sagen. Macht es dennoch jemand, muss diese(r) TRINKWORT.",
        "Breaking News! Schreibe der Person, mit der du zuletzt auf WhatsApp geschrieben hast, eine Nachricht. Deine Mitspieler entscheiden, welche. Weigerst du dich, musst du 3x TRINKWORT.",
        "Demokratie! Alle Spieler zeigen nach einem Countdown auf eine beliebige Person. Die Person, auf die die meisten Finger zeigen, muss 2x TRINKWORT.",
        "Eiszeit! Friere innerhalb der nÃ¤chsten 5 Runden ein. Alle anderen mÃ¼ssen dann auch einfrieren. Der langsamste muss 2x TRINKWORT.",
        "Freitag der 13.! ZÃ¤hlt im Uhrzeigersinn bis 13. Der 13. muss TRINKWORT.",
        "Arschkarte! Du musst 2x TRINKWORT.",
        "Reste weg! Die Person mit dem leersten Glas muss ihr Glas leer TRINKWORT und nachfÃ¼llen.",
        "Geschenke! Verteile Geschenke, bzw. 3x TRINKWORT an deine Mitspieler.",
        "Oldtimer! Die Person mit dem Ã¤ltesten Auto muss TRINKWORT.",
        "Tierfreund! Alle mit Haustieren mÃ¼ssen TRINKWORT.",
        "Storytime! ErzÃ¤hle eine wahre und eine falsche Geschichte. Deine Mitspieler entscheiden, welche Geschichte wahr und welche falsch ist. Liegen sie richtig, musst du 2x TRINKWORT. Liegen sie falsch, mÃ¼ssen sie 2x TRINKWORT.",
        "Opas! Alle Ã¼ber 30 mÃ¼ssen TRINKWORT.",
        "Weiber! Alle Frauen mÃ¼ssen TRINKWORT.",
        "Singles! Alle, die Single sind, mÃ¼ssen TRINKWORT.",
        "CBA! Beginnt das Alphabet im Uhrzeigersinn rÃ¼ckwÃ¤rts aufzusagen. Wer einen Fehler macht, muss TRINKWORT.",
        "Saufbirne! Die vollste Person muss 2x TRINKWORT. Die Mehrheit entscheidet.",
        "Schlafnase! Die nÃ¼chternste Person muss 3x TRINKWORT.",
        "Arschkarte! Du musst 50% deines GetrÃ¤nks TRINKWORT.",
        "SAM, YUK, GU! ZÃ¤hlt im Uhrzeigersinn. Alle Zahlen mit 3, 6 oder 9 dÃ¼rfen nicht gesagt werden. Stattdessen muss in die HÃ¤nde geklatscht werden. Bei 36 und anderen doppelten Zahlen muss 2x geklatscht werden. Wer verliert, muss 3x TRINKWORT.",
        "Zu hÃ¶ren! Oder gucken? Fasse dir innerhalb der nÃ¤chsten 5 Karten unauffÃ¤llig ans Ohr. Alle anderen mÃ¼ssen das ebenfalls tun. Der langsamste muss 2x TRINKWORT.",
        "Schnick, Schnack, Schnuck! Spiele gegen einen Mitspieler deiner Wahl Schere, Stein, Papier. Der Verlierer muss 2x TRINKWORT.",
        "SpÃ¤tzÃ¼nder! Alle Jungfrauen mÃ¼ssen 2x TRINKWORT.",
        "Reimmeister! Suche dir ein Wort aus. AnschlieÃŸend wird im Uhrzeigersinn weitergereimt. Zeitlimit: 10 Sekunden. Das Wort muss sich reimen und doppelt genannte WÃ¶rter sind verboten. Der Verlierer muss 2x TRINKWORT.",
        "Hotel Mama! Alle, die noch zu Hause wohnen, mÃ¼ssen 2x TRINKWORT.",
        "Akademiker! Alle, die studieren oder mal studiert haben, mÃ¼ssen 2x TRINKWORT!",
        "Veraut! Die Person mit dem hÃ¶chsten Bodycount muss 2x TRINKWORT.",
        "Durstig! Die Person, die am lÃ¤ngsten keinen Sex hatte, muss 2x TRINKWORT. Jungfrauen haben GlÃ¼ck und zÃ¤hlen nicht dazu.",
        "Freibier! Alle, die gerade Bier trinken, mÃ¼ssen 2x TRINKWORT.",
        "Das Auto! Alle mit einem VW mÃ¼ssen 2x TRINKWORT.",
        "Runter! Mache 10 LiegestÃ¼tze. Weigerst du dich, musst du 3x TRINKWORT. Traust du dich, aber schaffst es nicht, musst du 1x TRINKWORT.",
        "Erfolgsfan! Alle Bayern-Fans mÃ¼ssen TRINKWORT.",
      ];

      const burger = document.getElementById("burger");
      const navLinks = document.getElementById("navLinks");

      function toggleMenu() {
        navLinks.classList.toggle("show");
      }
      burger.addEventListener("click", toggleMenu);

      document.querySelectorAll(".nav-links a").forEach((link) => {
        link.addEventListener("click", () => {
          if (window.innerWidth <= 768) {
            navLinks.classList.remove("show");
          }
        });
      });

      function addSpieler() {
        const input = document.getElementById("spielerInput");
        const name = input.value.trim();
        if (name) {
          spieler.push(name);
          input.value = "";
          updateSpielerListe();
          drawWheel();
          updateSpinButtonState();
        }
      }

      function updateSpielerListe() {
        const liste = document.getElementById("spielerListe");
        const noPlayers = document.getElementById("noPlayers");
        liste.innerHTML = "";
        if (spieler.length === 0) {
          noPlayers.style.display = "block";
        } else {
          noPlayers.style.display = "none";
        }
        spieler.forEach((name, index) => {
          const container = document.createElement("div");
          container.className = "regelContainer";
          container.innerHTML = `<p class="regelText">${name}</p>`;
          const btn = document.createElement("button");
          btn.className = "deleteButton";
          btn.textContent = "â€“";
          btn.onclick = () => {
            spieler.splice(index, 1);
            if (aktuellerIndex >= spieler.length) {
              aktuellerIndex = 0;
            }
            updateSpielerListe();
            drawWheel();
          };
          container.appendChild(btn);
          liste.appendChild(container);
        });
      }

      function clearSpieler() {
        spieler = [];
        aktuellerIndex = 0;
        updateSpielerListe();
        drawWheel();
        updateSpinButtonState();
      }

      function handleCard() {
        if (spieler.length === 0) {
          document.getElementById("cardText").textContent =
            "FÃ¼ge zuerst Spieler hinzu!";
          return;
        }
        const current = spieler[aktuellerIndex];
        const next = spieler[(aktuellerIndex + 1) % spieler.length];
        document.getElementById("currentPlayerText").textContent =
          `Karte fÃ¼r ${current}`.toUpperCase();
        document.getElementById("nextPlayerText").textContent =
          `NÃ¤chste Karte: ${next}`.toUpperCase();
        let randomCard = karten[Math.floor(Math.random() * karten.length)];
        randomCard = randomCard.replace(/TRINKWORT/g, alternativWort);
        randomCard = randomCard.replace(/NAME/g, spieler[aktuellerIndex]);
        document.getElementById("cardText").textContent = randomCard;

        kartenCounter++;
        document.getElementById(
          "counter"
        ).textContent = `GEZOGENE KARTEN: ${kartenCounter}`;

        aktuellerIndex = (aktuellerIndex + 1) % spieler.length;
      }

      function spinWheel() {}

      function addRegel() {
        const input = document.getElementById("regelInput");
        const regel = input.value.trim();
        if (regel) {
          const container = document.createElement("div");
          container.className = "regelContainer";
          container.innerHTML = `<p class='regelText'>${regel}</p>`;
          const btn = document.createElement("button");
          btn.className = "deleteButton";
          btn.textContent = "â€“";
          btn.onclick = () => container.remove();
          container.appendChild(btn);
          document.getElementById("regelListe").appendChild(container);
          input.value = "";
          document.getElementById("noRules").style.display = "none";
        }
      }

      function clearRegeln() {
        document.getElementById("regelListe").innerHTML = "";
        document.getElementById("noRules").style.display = "block";
      }

      function resetRegeln() {
        //Regelliste leeren und Standard-Regel hinzufÃ¼gen.
        document.getElementById("regelListe").innerHTML = "";
        const container = document.createElement("div");
        container.className = "regelContainer";
        container.innerHTML = `<p class='regelText'>Das Wort "trinken" und WÃ¶rter mit dem selben Stamm dÃ¼rfen nicht gesagt werden. Stattdessen muss das Alternativ Wort verwendet werden.</p>`;
        const btn = document.createElement("button");
        btn.className = "deleteButton";
        btn.textContent = "â€“";
        btn.onclick = () => container.remove();
        container.appendChild(btn);
        document.getElementById("regelListe").appendChild(container);
        document.getElementById("noRules").style.display = "none";
        //Alternativwort auf Standard
        document.getElementById("wortInput").value = "applaudieren";
      }

      function changeWord() {
        alternativWort = document.getElementById("wortInput").value;
        document.getElementById(
          "chosenPlayer"
        ).innerText = `WER DARF ${alternativWort.toUpperCase()}? ...`;
      }

      function showUI(component) {
        if (component == "karte") {
          document.getElementById("karte").classList.remove("versteckt");
          document.getElementById("spieler").classList.add("versteckt");
          document.getElementById("regeln").classList.add("versteckt");
          document.getElementById("hilfe").classList.add("versteckt");
          document.getElementById("gluecksrad").classList.add("versteckt");
        } else if (component == "spieler") {
          document.getElementById("karte").classList.add("versteckt");
          document.getElementById("spieler").classList.remove("versteckt");
          document.getElementById("regeln").classList.add("versteckt");
          document.getElementById("hilfe").classList.add("versteckt");
          document.getElementById("gluecksrad").classList.add("versteckt");
        } else if (component == "regeln") {
          document.getElementById("karte").classList.add("versteckt");
          document.getElementById("spieler").classList.add("versteckt");
          document.getElementById("regeln").classList.remove("versteckt");
          document.getElementById("hilfe").classList.add("versteckt");
          document.getElementById("gluecksrad").classList.add("versteckt");
        } else if (component == "hilfe") {
          document.getElementById("karte").classList.add("versteckt");
          document.getElementById("spieler").classList.add("versteckt");
          document.getElementById("regeln").classList.add("versteckt");
          document.getElementById("hilfe").classList.remove("versteckt");
          document.getElementById("gluecksrad").classList.add("versteckt");
        } else if (component == "gluecksrad") {
          document.getElementById("karte").classList.add("versteckt");
          document.getElementById("spieler").classList.add("versteckt");
          document.getElementById("regeln").classList.add("versteckt");
          document.getElementById("hilfe").classList.add("versteckt");
          document.getElementById("gluecksrad").classList.remove("versteckt");
          drawWheel();
        }
      }
      //beim Ã¶ffnen Karte anzeigen.
      showUI("karte");

      //GlÃ¼cksrad-Logik s/o an ChatGPT:
      const wheelCanvas = document.getElementById("wheel");
      const ctx = wheelCanvas.getContext("2d");
      const spinButton = document.getElementById("spinButton");

      let startAngle = 0;
      let arc = 0;
      let isSpinning = false;
      let spinTimeout;
      let spinAngleStart = 0;
      let spinTime = 0;
      let spinTimeTotal = 0;

      function drawWheel() {
        const numSegments = spieler.length;
        arc = (2 * Math.PI) / numSegments;

        ctx.clearRect(0, 0, wheelCanvas.width, wheelCanvas.height);
        ctx.strokeStyle = "black";
        ctx.lineWidth = 2;
        ctx.font = "bold 16px Arial";
        ctx.textAlign = "right";
        ctx.textBaseline = "middle";

        for (let i = 0; i < numSegments; i++) {
          const angle = startAngle + i * arc;
          // Farbwechsel je Segment
          ctx.fillStyle = i % 2 === 0 ? "#0051ff" : "#427eff";

          ctx.beginPath();
          ctx.moveTo(wheelCanvas.width / 2, wheelCanvas.height / 2);
          ctx.arc(
            wheelCanvas.width / 2,
            wheelCanvas.height / 2,
            wheelCanvas.width / 2 - 10,
            angle,
            angle + arc,
            false
          );
          ctx.lineTo(wheelCanvas.width / 2, wheelCanvas.height / 2);
          ctx.fill();
          ctx.stroke();

          // Textposition (mittig im Segment)
          ctx.save();
          ctx.fillStyle = "black";
          ctx.translate(
            wheelCanvas.width / 2 +
              Math.cos(angle + arc / 2) * (wheelCanvas.width / 2 - 40),
            wheelCanvas.height / 2 +
              Math.sin(angle + arc / 2) * (wheelCanvas.height / 2 - 40)
          );
          ctx.rotate(angle + arc / 2 + Math.PI / 2);
          ctx.fillText(spieler[i], 0, 0);
          ctx.restore();
        }

        // Pfeil oben
        ctx.fillStyle = "black";
        ctx.beginPath();
        ctx.moveTo(wheelCanvas.width / 2 - 10, 10);
        ctx.lineTo(wheelCanvas.width / 2 + 10, 10);
        ctx.lineTo(wheelCanvas.width / 2, 30);
        ctx.closePath();
        ctx.fill();

        updateSpinButtonState();
      }

      function spinWheel() {
        if (spieler.length === 0) {
          document.getElementById(
            "chosenPlayer"
          ).innerText = `OHNE SPIELER GEHTS NICHT!`;
          return;
        }
        if (isSpinning) return;

        isSpinning = true;
        spinAngleStart = Math.random() * 10 + 10; // Drehgeschwindigkeit starten
        spinTime = 0;
        spinTimeTotal = Math.random() * 3000 + 4000; // Dauer 4-7 Sekunden
        rotateWheel();
        spinButton.disabled = true;
      }

      function rotateWheel() {
        spinTime += 30;
        if (spinTime >= spinTimeTotal) {
          stopRotateWheel();
          return;
        }
        const spinAngle =
          spinAngleStart - easeOut(spinTime, 0, spinAngleStart, spinTimeTotal);
        startAngle += (spinAngle * Math.PI) / 180;
        drawWheel();
        spinTimeout = setTimeout(rotateWheel, 30);
      }

      function stopRotateWheel() {
        clearTimeout(spinTimeout);
        isSpinning = false;
        spinButton.disabled = false;
        const degrees = (startAngle * 180) / Math.PI + 90;
        const arcd = (arc * 180) / Math.PI;
        const index =
          Math.floor((360 - (degrees % 360)) / arcd) % spieler.length;
        const selectedPlayer = spieler[index];
        document.getElementById(
          "chosenPlayer"
        ).innerText = `WER DARF ${alternativWort.toUpperCase()}? ${selectedPlayer.toUpperCase()}!`;
      }

      // Ease out Funktion fÃ¼r sanfte Abbremsung
      function easeOut(t, b, c, d) {
        const ts = (t /= d) * t;
        const tc = ts * t;
        return b + c * (tc + -3 * ts + 3 * t);
      }

      function updateSpinButtonState() {
        spinButton.disabled = spieler.length === 0;
      }

      // Initiales Zeichnen
      if (spieler.length > 0) {
        drawWheel();
        spinButton.disabled = false;
      } else {
        spinButton.disabled = true;
      }
    </script>
  </body>
</html>
